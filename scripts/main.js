this.Templates=this.Templates||{},this.Templates.item=Handlebars.template(function(e,a,r,t,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var l,n,i="",o="function",c=this.escapeExpression;return i+='<div class="item">\n    <h4><a href="',(n=r.url)?l=n.call(a,{hash:{},data:s}):(n=a&&a.url,l=typeof n===o?n.call(a,{hash:{},data:s}):n),i+=c(l)+'">',(n=r.title)?l=n.call(a,{hash:{},data:s}):(n=a&&a.title,l=typeof n===o?n.call(a,{hash:{},data:s}):n),i+=c(l)+"</a></h4>\n    <p>",(n=r.description)?l=n.call(a,{hash:{},data:s}):(n=a&&a.description,l=typeof n===o?n.call(a,{hash:{},data:s}):n),i+=c(l)+'</p>\n    <p class="sharer">--',(n=r.sharer)?l=n.call(a,{hash:{},data:s}):(n=a&&a.sharer,l=typeof n===o?n.call(a,{hash:{},data:s}):n),i+=c(l)+"</p>\n</div>\n"}),this.Templates=this.Templates||{},this.Templates.resource=Handlebars.template(function(e,a,r,t,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var l,n,i="",o="function",c=this.escapeExpression;return i+='<div class="form-group col-sm-12">\n    <label for="title">Title</label>\n    <input type="text" name="title" class="form-control" value="',(n=r.title)?l=n.call(a,{hash:{},data:s}):(n=a&&a.title,l=typeof n===o?n.call(a,{hash:{},data:s}):n),i+=c(l)+'" />\n</div>\n<div class="form-group col-sm-12">\n    <label for="description">Description</label>\n    <textarea name="description" class="form-control">',(n=r.description)?l=n.call(a,{hash:{},data:s}):(n=a&&a.description,l=typeof n===o?n.call(a,{hash:{},data:s}):n),i+=c(l)+"</textarea>\n</div>\n"}),this.Templates=this.Templates||{},this.Templates.shareform=Handlebars.template(function(e,a,r,t,s){function l(e,a){var t,s,l="";return l+='\n                    <option value="',(s=r.email)?t=s.call(e,{hash:{},data:a}):(s=e&&e.email,t=typeof s===o?s.call(e,{hash:{},data:a}):s),l+=c(t)+'">',(s=r.firstname)?t=s.call(e,{hash:{},data:a}):(s=e&&e.firstname,t=typeof s===o?s.call(e,{hash:{},data:a}):s),l+=c(t)+"</option>\n                "}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var n,i="",o="function",c=this.escapeExpression,h=this;return i+='<form role="form" class="form-horizontal" id="share-a-link">\n    <div class="form-group row">\n        <label for="url">A cool link you found?</label>\n        <div class="col-sm-12">\n            <input type="text" name="url" class="url form-control" placeholder="http://a-vegetable-name.io"/>\n        </div>\n    </div>\n    <div class="resource"></div>\n    <div class="form-group row">\n        <div><label for="sharer">And which awesome SG Dev are you?</label></div>\n        <div class="sharer-container col-sm-6">\n            <select name="sharer" class="form-control">\n                <option value=""></option>\n                ',n=r.each.call(a,a,{hash:{},inverse:h.noop,fn:h.program(1,l,s),data:s}),(n||0===n)&&(i+=n),i+='\n                <option value="other">Other</option>\n            </select>\n        </div>\n        <div class="sharer-email-container col-sm-6">\n            <input type="text" class="form-control" name="sharer_email" class="sharer-email col-sm-4" placeholder="Your email"/>\n        </div>\n    </div>\n    <div class="form-group">\n        <button type="submit" class="btn btn-primary">Share</button>\n    </div>\n</form>\n'});var serverUrl="http://sg-read.herokuapp.com",sharers=[{firstname:"Tri",lastname:"Nguyen",email:"tnguyen@demandware.com"},{firstname:"Larry",lastname:"Gelberg",email:"lgelberg@demandware.com"},{firstname:"Alex",lastname:"Clark",email:"aclark@demandware.com"}];jQuery("document").ready(function(e){var a=Templates.item,r=Templates.resource,t=Templates.shareform;e(".share-container").html(t(sharers)),e.ajax({url:serverUrl,success:function(r){_.each(r,function(r){e(".shared-items").append(a(r))})}}),e('[name="sharer"]').on("change",function(){"other"===e(this).val()?e(".sharer-email-container").show():e(".sharer-email-container").hide()}),e('[name="url"]').on("change",function(){var a=e(this).val(),t=e(".resource");return""===a?void e(".resource").empty():(t.html('<div class="spinner"></div>'),void e.ajax({url:serverUrl+"/extract/"+encodeURIComponent(a),success:function(a){t.html(r(a)),e(this).data("originalUrl",a.original_url),e(this).val(a.url)},error:function(){t.html('<p class="bg-warning">Unable to get details for your URL. You can still go ahead and share it.</p>'),t.append(r())}}))}),e("#share-a-link").on("submit",function(r){r.preventDefault();var t=e(r.target),s=t.serialize();e.ajax({url:serverUrl,type:"POST",data:s,success:function(r){e(".shared-items").prepend(a(r)),e(":input",t).val("")}})})});